[tools]
go = "1.25.0"
node = "24"
pulumi = "latest"
"go:golang.org/x/tools/gopls" = "0.20.0"

[tasks.build]
description = "Build the application"
run = "go build -o bin/agent-orchestrator src/main.go"

[tasks.run]
description = "Run the application"
run = "go run src/main.go"

[tasks."test:e2e"]
description = "Run E2E tests against a local server (server has to be running)"
env = { E2E_SERVER_URL = "http://localhost:8080" }
run = "go test -v ./e2e/..."

[tasks."test:e2e-docker"]
description = "Run E2E tests using Docker Compose"
run = "scripts/run-e2e.sh"
